<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="SRR_Logo.png">
    <style>
        /* Custom CSS for logo */
        .logo {
            max-width: 200px; /* Adjust the maximum width as needed */
            margin: 0 auto; /* Center the logo horizontally */
            display: block; /* Ensure the logo is displayed as a block element */
        }

        /* CSS for search history column */
        #searchHistoryColumn {
            position: fixed;
            top: 56px; /* Adjust the top position to fit below the navbar */
            left: -300px; /* Adjust the left position to hide the column */
            width: 300px;
            height: calc(100% - 56px); /* Adjust height to fit remaining space */
            background-color: #f8f9fa; /* Adjust background color as needed */
            transition: left 0.3s ease; /* Smooth transition for animation */
            z-index: 1000; /* Ensure the column appears above other content */
            padding: 20px;
        }

        /* CSS for hide button */
        .hide-button {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
        }
    </style>
</head>

<body class="bg-light">
    <div class="pos-f-t">
        <!-- Navbar -->
        <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary"> <!-- Change bg-dark to bg-primary -->
            <div class="container">
                <!-- Text instead of logo -->
                <span class="navbar-text text-white"><strong>Same Rhythm Radar</strong></span>
                <!-- Hamburger button -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <!-- Dropdown menu -->
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto">
                        <span class="navbar-text text-white me-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle me-1" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
                            </svg>
                            {{ username }}
                        </span>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-white" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <strong>Menu</strong>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown" style="z-index: 1000;">
                                <li><a class="dropdown-item" href="{% url 'home' username=username %}">Home</a></li>
                                <li><form action="{% url 'library' username=username %}"><button class="dropdown-item" >Library</button></form></li>
                                <li><a class="dropdown-item" href="#" onclick="toggleHistoryColumn()">History</a></li>
                                <li><a class="dropdown-item" href="{% url 'about' username=username %}">About Us</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="/">Log Out</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-12 col-md-8 text-center">
                {% load static %}<img src="{% static 'SRR_Logo.png' %}" alt="SRR" class="logo">
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12 text-center mt-5">
                <h1>Welcome, {{ username }}!</h1>
            </div>
        </div>

        <div class="row justify-content-center mt-3">
            <div class="col-auto">
                <button type="button" class="btn btn-primary me-3" data-bs-toggle="modal" data-bs-target="#changeUsernameModal">Change Username</button>
            </div>
            <div class="col-auto">
                <button type="button" class="btn btn-danger me-3" data-bs-toggle="modal" data-bs-target="#changePasswordModal">Change Password</button>
            </div>
            <div class="col-auto">
                <form action="{% url 'clear' username=username %}">
                    <button type="button" class="btn btn-success">Clear Search History</button>
                </form>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-12 text-center">
                <h2 class="mb-3">Frequent Tags</h2>
                <div class="tags">Tag 1, Tag 2, Tag 3</div>
            </div>
        </div>
    </div>

    <!-- Search History Column -->
    <div id="searchHistoryColumn">
        <button class="hide-button" onclick="toggleHistoryColumn()">Ã—</button>
        <h5>Search History</h5>
        <p>Previous search results go here...</p>
    </div>

    <!-- Change Username Modal -->
    <div class="modal fade" id="changeUsernameModal" tabindex="-1" aria-labelledby="changeUsernameModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changeUsernameModalLabel">Change Username</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control mb-3" placeholder="Enter New Username">
                    <div class="text-center">
                        <button type="button" class="btn btn-primary">Change</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Change Password Modal -->
    <div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changePasswordModalLabel">Change Password</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control mb-3" placeholder="Enter New Password">
                    <div class="text-center">
                        <button type="button" class="btn btn-danger">Change</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    function toggleHistoryColumn() {
        var historyColumn = document.getElementById('searchHistoryColumn');
        if (historyColumn.style.left === '0px') {
            historyColumn.style.left = '-300px';
        } else {
            historyColumn.style.left = '0px';
    }
}

    </script>
</body>

</html>
